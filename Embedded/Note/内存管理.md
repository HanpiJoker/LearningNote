# 内存管理单元 MMU
## Makefile语法助记
- $^ -- 所有的依赖文件;
- $@ -- 目标文件;
- $< -- 第一个依赖文件;
## 1. MMU介绍
### 1. 权限管理
对于Linux程序运行, 不同的程序具有不同的地址空间, 并且互不相同。当一个程序想访问其他程序的内存空间, 就会出错。

### 2. 地址映射
CPU接受的是虚拟地址(VA), 物理硬件接受的是物理地址(PA)。而MMU的作用就是PA和VA之间的相互转换。

### 3. VA和PA的转化:  VA = func (PA)
#### 基础概念
1. 用一个表格存储VA对应的PA; -- 页表。
以段的方式进行转换时只用到一级页表;
以页的方式进行转换时用到二级页表; 其中页的大小分3种, 大页(64KB), 小页(4KB), 极小页(1KB);

2. 地址范围(虚拟地址空间): 
  处理器能产生的地址集合, 一个32bit的处理器可以产生的地址集合是: 0x0000 0000 ~ 0xffff ffff(4G); 其中对应的地址是虚拟地址VA;

3. VA和PA
  物理地址空间指的是实际内存的地址集合, 对于一台256MB的32bit x86主机, 它的虚拟地址如上, 物理地址空间范围是: 0x0000 0000 ~ 0x0fff ffff(256MB)

4. 分页机制
  大多数使用MMU的机器都采用分页机制。虚拟地址空间以页为单位进行划分，而相应的物理地址空间也被划分，其使用的单位称为页帧，页帧和页必须保持相同，因为内存与外部存储器之间的传输是以页为单位进行传输的。例如，MMU可以通过一个映射项将VA的一页0xb7001000~0xb7001fff映射到PA的一页0x2000~0x2fff，如果CPU执行单元要访问虚拟地址0xb7001008，则实际访问到的物理地址是0x2008。

5. 页表
  VA的哪个页映射到PA的哪个页帧, 是通过页表(Page Table)来描述的。页表保存在物理内存在